<!DOCTYPE html>
<html>
<head>
    <title>Reproductor de Audio Continuo</title>
</head>
<body>
    <audio id="myAudio" controls autoplay>
        <source src="https://c26.radioboss.fm:8581/stream" type="audio/mpeg">
        <source src="AEROSUR1.mp3" type="audio/mpeg">
    </audio>

    <script>
        const audio = document.getElementById('myAudio');
        const onlineSource = 'https://c26.radioboss.fm:8581/stream';
        const offlineSource = 'AEROSUR1.mp3';

        // Función para manejar el evento de error
        audio.onerror = () => {
            // Si ocurre un error, asumimos que es por falta de conexión y cambiamos a la fuente local
            audio.src = offlineSource;
            audio.load();
            audio.play();
        };

        // Función para verificar la conexión (puedes reemplazarla con una más robusta si es necesario)
        function checkConnection() {
            fetch(onlineSource)
                .then(response => {
                    if (response.ok) {
                        // Si hay conexión, cambiamos a la fuente en línea
                        audio.src = onlineSource;
                        audio.load();
                        audio.play();
                    }
                })
                .catch(error => {
                    // Si hay un error, no hacemos nada, ya que el evento onerror ya se encargó de cambiar la fuente
                });
        }

        // Verificar la conexión cada 10 segundos
        setInterval(checkConnection, 10000);
    </script>
</body>
</html>
